<!doctype html>
<html>
<head><meta charset="utf-8"><title>Student Prediction</title></head>
<body>
<h2>Student / Faculty - Predict Passing Probability</h2>
<form id="predForm">
  <label>Attendance (%):</label><input id="att" type="number" /><br/>
  <label>Assignment average (0-100):</label><input id="asg" type="number" /><br/>
  <label>Midterm (0-100):</label><input id="mid" type="number" /><br/>
  <label>Study hours/week:</label><input id="study" type="number" /><br/>
  <button type="button" onclick="predict()">Predict</button>
</form>
<div id="out"></div>

<script>
async function predict(){
  const attributes=[parseFloat(document.getElementById('att').value),
                    parseFloat(document.getElementById('asg').value),
                    parseFloat(document.getElementById('mid').value),
                    parseFloat(document.getElementById('study').value)];
  const resp = await fetch('/predict?templatePath=classpath:template/student_template.arff', {
    method:'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify(attributes)
  });
  const data = await resp.json();
  document.getElementById('out').innerText = `Pass Probability: ${(data.passProbability*100).toFixed(1)}%  |  Prediction: ${data.prediction}`;
}
</script>
</body>
</html>
